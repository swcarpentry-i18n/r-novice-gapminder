---
title: RとRStudio入門
teaching: 45
exercises: 10
source: Rmd
---

::::::::::::::::::::::::::::::::::::::: objectives

- RStudio IDE の各ウィンドウの使用目的と使い方が説明出来るようになりましょう。
- RStudio IDE のボタンやオプションの位置を理解しましょう。
- 変数が定義出来るようになりましょう。
- 変数に値の設定が出来るようになりましょう。
- R セッションのワークスペース管理が出来るようになりましょう。
- 算術演算子や比較演算子が使えるようになりましょう。
- 関数が呼び出せるようになりましょう。
- パーッケージをロードしましょう。

::::::::::::::::::::::::::::::::::::::::::::::::::

:::::::::::::::::::::::::::::::::::::::: questions

- RStudio はどのように操作したらよいですか？
- R とはどのようにやりとりしたらよいですか？
- 環境の管理はどうしたらよいですか？
- パッケージのインストールはどうしたらよいですか？

::::::::::::::::::::::::::::::::::::::::::::::::::

```{r, include=FALSE}
```

## ワークショップを始める前に

RとRStudioの最新バージョンが、自分のコンピューターにインストールされているか確認してください。 最新バージョンであることが重要である理由は、ワークショップで使うパッケージには、Rが最新でないと、正常に（または全く）インストールされないものがあるからです。

- [ここからRの最新バージョンをダウンロード及びインストール下さい](https://www.r-project.org/)
- [ここからRStudioをダウンロード及びインストール下さい](https://www.rstudio.com/products/rstudio/download/#download)

## R とRStudio を使う理由

Software CarpentryのR部分のワークショップへようこそ。

科学は多段階のプロセスです。
実験を設計してデータを収集した後、本当の楽しみは分析から始まります！このレッスンでは、R言語の基本を教えるとともに、科学プロジェクトのためのコードを整理するベストプラクティスを学び、作業をより簡単にする方法を紹介します。 生データから始め、探索的な分析を行い、結果をグラフでプロットする方法を学びます。この例では、[gapminder.org](https://www.gapminder.org)のデータセットを使用し、時間を通じた各国の人口情報を扱います。データをRに読み込むことができますか？セネガルの人口をプロットできますか？アジア大陸の国々の平均所得を計算できますか？このレッスンの終わりまでに、これらの国々の人口を1分以内にプロットできるようになります！

データを分析するためにMicrosoft ExcelやGoogleスプレッドシートを使用することもできますが、これらのツールは柔軟性やアクセス性に限界があります。さらに、元データの変更や探索の手順を共有することが難しいため、これは「再現可能な」研究にとって重要なポイントです（[再現可能な研究についてはこちら](https://journals.plos.org/ploscompbiol/article?id=10.1371/journal.pcbi.1003285)）。 特に、生データの探索や変更を行うステップを共有するのが難しいため、[「再現可能」](https://journals.plos.org/ploscompbiol/article?id=10.1371/journal.pcbi.1003285)な研究には不向きです。

したがって、このレッスンでは、RとRStudioを使用してデータの探索を始める方法を学びます。RプログラムはWindows、Mac、Linuxオペレーティングシステムで利用可能で、上記のリンクから無料でダウンロードできます。Rを実行するために必要なのはRプログラムだけです。 R プログラムはWindows、Mac、Linux のオペレーティングシステムで利用でき、無料で上記からダウンロード可能です。 R を実行するにはR プログラムだけで十分です。

しかし、Rをより使いやすくするために、同じくダウンロードしたRStudioというプログラムを使用します。RStudioは無料でオープンソースの統合開発環境（IDE）で、組み込みエディタを提供し、すべてのプラットフォームで動作します（サーバー上でも利用可能）。バージョン管理やプロジェクト管理との統合など、多くの利点があります。 RStudioは、無料であり、Rを組み込んだオープンソースの 総合開発環境（IDE: Integrated Development Environment）です。 RStudioは、全てのプラットフォーム（サーバーも含む）で起動できること、 エディタが組み込まれていることや、プロジェクト管理やバージョン管理にも対応しているなど、 良いところがいっぱいがあります。

## 概要

生のデータから、予備解析をし、結果をどう グラフ上にプロットするかを学びます。 ここでの例は [gapminder.org](https://www.gapminder.org) のデータセットを使います。このデータセットには、多くの国の人口の時系列データが入っています。 データをRに読み込むことができますか？ セネガルの人口をプロットできますか？ アジア大陸にある国の平均所得を計算できますか？
これらのレッスンの終わるまでに、これらの全ての国の人口をプロットしたりするようなことが 一分足らずでできるようになるでしょう！

**基本レイアウト**

RStudioを初めて開くと、次の3つのパネルが表示されます：

- インタラクティブなRコンソール/ターミナル（左全体）
- 環境/履歴/接続（右上のタブ）
- ファイル/プロット/パッケージ/ヘルプ/ビューア（右下のタブ）

![](fig/01-rstudio.png){alt='RStudioのレイアウト'}

ファイル（例えばRスクリプト）を開くと、上部左にエディタパネルも表示されます。

![](fig/01-rstudio-script.png){alt='RStudioで.Rファイルを開いたレイアウト'}

:::::::::::::::::::::::::::::::::::::::::  callout

## Rスクリプト

Rコンソールに書いたコマンドはファイルに保存し、再実行することができます。このようなRコードを含むファイルをRスクリプトと呼びます。Rスクリプトは名前の末尾が`.R`となっており、それがRスクリプトであることを示します。  このように実行される R コードを含むファイルは R スクリプトと呼ばれます。  R スクリプトには `.R` が名前の末尾にが付けられています。

::::::::::::::::::::::::::::::::::::::::::::::::::

## RStudio内でのワークフロー

RStudio内で作業する主な方法は2つあります：

1. インタラクティブなRコンソール内でテストや試行を行い、そのコードをコピーして.Rファイルに貼り付け、後で実行する。

- 小規模なテストや初期の段階では効果的です。
- すぐ面倒になる。

2. 最初から.Rファイルに記述し、RStudioのショートカットキーを使用して「Run」コマンドを実行し、現在の行、選択した行、または変更した行をインタラクティブなRコンソールに送る。

- これは作業を始める良い方法です。すべてのコードが後で使用するために保存されます。
- RStudio内またはRの`source()`関数を使用して作成したファイルを実行できます。

:::::::::::::::::::::::::::::::::::::::::  callout

## ヒント：コードのセグメントを実行する

RStudioでは、エディタウィンドウからコードを実行する柔軟性があります。ボタン、メニューオプション、およびキーボードショートカットがあります。現在の行を実行するには、次の方法があります： ボタン、メニュー選択、そしてキーボードのショートカットがあります。 現在の行を走らせるには、

1. エディタパネルの上部にある「Run」ボタンをクリックする
2. 「Code」メニューから「Run Lines」を選択する
3. WindowsかLinuxなら、<kbd>Ctrl</kbd>\+<kbd>Return</kbd> 、またはOS Xなら、<kbd>⌘</kbd>\+<kbd>Return</kbd> を押す（このショートカットはボタンの上にマウスを合わせると表示される）。 ードのかたまりを走らせるには、まずその部分を選択してから`Run`を押します。
   WindowsまたはLinuxでは<kbd>Ctrl</kbd>\+<kbd>Return</kbd>、OS Xでは<kbd>⌘</kbd>\+<kbd>Return</kbd>を押す
   （このショートカットはボタンの上にマウスをホバーさせると確認できます）。コードブロックを実行するには、選択して「Run」をクリックします。
   最近実行したコードブロックを修正した場合、セクションを再選択して「Run」を押す必要はありません。次のボタン「Re-run the previous region」を使用すると、修正を含む前のコードブロックを実行できます。 これは、前のコードのかたまりを 修正を行った部分を含めて走らせます。

::::::::::::::::::::::::::::::::::::::::::::::::::

## R入門

Rを使う時間のほとんどは、Rのインタラクティブコンソールでの作業となるでしょう。 ここが、全てのコードを走らせる、また、.Rファイルにコードを加える前にアイディアを 試してみるのに使える環境となります。 Rでの作業の多くは、インタラクティブなRコンソール内で行います。ここでは、すべてのコードを実行し、Rスクリプトファイルに追加する前にアイデアを試すのに便利な環境です。RStudioのコンソールは、コマンドライン環境で`R`と入力した場合と同じです。

Rインタラクティブセッションでまず目に入ってくるのは、ひとかたまりの情報と その後に続く、「 」と点滅するカーソルです。これは多くの観点で、 シェルのレッスンで学んだシェル環境と似ています。 Rのインタラクティブセッションを開くと、最初に情報が表示され、その後に「>」と点滅するカーソルが現れます。これは、シェルレッスンで学んだシェル環境と多くの点で似ています。「Read, evaluate, print loop」（読み取り、評価、印刷ループ）の考え方に基づいて動作します：コマンドを入力すると、Rがそれを実行し、結果を返します。

## Rを計算機として使う

Rで最も簡単なことは、算術を行うことです：

```{r}
1 + 100
```

And R will print out the answer, with a preceding "[1]". [1] is the index of
the first element of the line being printed in the console. Rは答えを表示し、その前に"[1]"を付けます。[1]はコンソールに表示される行の最初の要素のインデックスを示します。ベクトルのインデックスについての詳細は、[エピソード6：データのサブセット化](https://swcarpentry.github.io/r-novice-gapminder/06-data-subsetting/index.html)を参照してください。

不完全なコマンドを入力すると、R は完了を待機します。Unix Shellのbashに慣れている場合、この動作をbashで見たことがあるかもしれません。

```r
> 1 +
```

```output
+
```

Any time you hit return and the R session shows a "+" instead of a ">", it
means it's waiting for you to complete the command. 「>」ではなく「+」が表示された場合、Rはコマンドの完了を待機しています。コマンドをキャンセルしたい場合は<kbd>Esc</kbd>を押すと、RStudioは「>」プロンプトに戻ります。

:::::::::::::::::::::::::::::::::::::::::  callout

## ヒント：コマンドのキャンセル

RStudioではなく、コマンドラインからRを使う場合、 コマンドを取り消す場合、<kbd>Esc</kbd>の代わりに<kbd>Ctrl</kbd>+<kbd>C</kbd>を使う必要があります。これは、Macユーザーも同じです！ コマンドの取り消しは、不完全なコマンドを消す他にも使えます。

コマンドのキャンセルは、不完全なコマンドを終了させるだけでなく、予想以上に時間がかかる場合にコードの実行を停止したり、現在書いているコードを削除したりするためにも役立ちます。

::::::::::::::::::::::::::::::::::::::::::::::::::

Rを計算機として使用する場合、演算の順序は学校で学んだものと同じです。

優先順位が高いものから低いものへ：

- 括弧：`(`, `)`
- 累乗：`^`または`**`
- 乗算：`*`
- 除算：`/`
- 加算：`+`
- 減算：`-`

```{r}
3 + 5 * 2
```

評価の順序を変更したい場合や意図を明確にしたい場合は、括弧を使用してグループ化します。

```{r}
(3 + 5) * 2
```

括弧をつける必要ではないときは、面倒かもしれませんが、そうすることで自分の意図 するところがはっきり伝わります。
必要ない場合は煩雑になりますが、意図を明確にできます。他の人が後でコードを読むかもしれないことを忘れないでください。

```{r, eval=FALSE}
(3 + (5 * (2 ^ 2))) # 読みにくい
3 + 5 * 2 ^ 2       # 規則を覚えていれば明快
3 + 5 * (2 ^ 2)     # 規則を忘れた場合はこれが助けになる
```

各コード行の後にあるテキストは「コメント」と呼ばれます。ハッシュ記号`#`の後に続く内容は、コードを実行する際にRによって無視されます。 シャープ（ナンバー）記号`#` の後に来るものは、Rがコードを実行する際は無視されます。

非常に小さいまたは大きい数値は、科学表記法で表示されます：

```{r}
2/10000
```

しかし、すぐに手間がかかるようになります。 これは「`10^XX`で掛ける」という短縮形です。したがって、`2e-4`は`2 * 10^(-4)`の短縮形です。

科学表記法で数値を書くこともできます：

```{r}
5e3  # マイナスがない点に注意
```

## 数学関数

Rには多くの組み込み数学関数があります。関数を呼び出すには、関数名を入力し、その後に開き括弧と閉じ括弧を続けます。関数は引数を入力として受け取ります。関数の括弧内に入力したものはすべて引数と見なされます。関数によって引数の数は異なり、引数を必要としないものから複数の引数を必要とするものまであります。例： To call a function,
we can type its name, followed by open and closing parentheses.
Functions take arguments as inputs, anything we type inside the parentheses of a function is considered an argument. Depending on the function, the number of arguments can vary from none to multiple. 例えば：

```{r, eval=FALSE}
getwd() # 絶対パスを返す
```

この例では引数は不要ですが、以下の数学関数では結果を計算するために値を渡す必要があります。

```{r}
sin(1)  # 三角関数
```

```{r}
log(1)  # 自然対数
```

```{r}
log10(10) # 常用対数（底10）
```

```{r}
exp(0.5) # e^(1/2)
```

Rのすべての関数を覚えようとする必要はありません。Googleで検索するか、関数名の最初の数文字を覚えていれば、RStudioのタブ補完機能を使うことができます。

RStudioの大きな利点の一つは、オートコンプリート機能があることです。これにより、関数、引数、および受け取る値を簡単に調べることができます。

コマンド名の前に、`?` を付けることで、そのコマンドのヘルプのページを開くことができます。 コマンド名の前に`?`を付けると、そのコマンドのヘルプページが開きます。RStudioを使用している場合、'Help'ペインに表示されます。ターミナルでRを使用している場合は、ブラウザでヘルプページが開きます。ヘルプページにはコマンドの詳細な説明と動作の仕組みが含まれています。ページの下部までスクロールすると、通常、コマンドの使用例が掲載されています。後ほど例を見ていきます。
The help page will include a detailed description of the command and
how it works. Scrolling to the bottom of the help page will usually
show a collection of code examples which illustrate command usage.
これについては、後ほど、例で見てみることにしましょう。

## 比較演算

Rでは比較を行うこともできます：

```{r}
1 == 1  # 等しい（等号が2つ、"等しい"と読む）
```

```{r}
1 != 2  # 等しくない（"等しくない"と読む）
```

```{r}
1 < 2  # より小さい
```

```{r}
1 <= 1  # 以下
```

```{r}
1 > 0  # より大きい
```

```{r}
1 >= -9 # 以上
```

:::::::::::::::::::::::::::::::::::::::::  callout

## ヒント：数値の比較

数値を比較する際の注意点として、整数（小数を含まない数値型）以外を比較する場合は、`==`を使用しないでください。

コンピュータは小数を特定の精度でしか表現できないため、Rが表示する際に同じに見える2つの数値が、内部表現では異なる場合があります。このわずかな差異は「数値計算誤差（Machine numeric tolerance）」と呼ばれます。

代わりに`all.equal`関数を使用してください。

さらに詳しく知りたい方はこちら：[http://floating-point-gui.de/](https://floating-point-gui.de/)

::::::::::::::::::::::::::::::::::::::::::::::::::

## 変数と代入

代入演算子`<-`を使用して、値を変数に格納できます：

```{r}
x <- 1/40
```

Notice that assignment does not print a value. Instead, we stored it for later
in something called a **variable**. 以前は`x`に0.025が格納されていましたが、現在は100が格納されています。

```{r}
x
```

正確には、この格納された値は[浮動小数点数](https://en.wikipedia.org/wiki/Floating_point)と呼ばれる分数の_10進数近似値_です。

RStudioの右上ペインにある`Environment`タブを確認すると、`x`とその値が表示されていることがわかります。変数`x`は、数値を期待する計算の中で数値の代わりに使用できます： Our variable `x` can be used in place of a number in any calculation that expects a number:

```{r}
log(x)
```

また、変数には再代入も可能です：

```{r}
x <- 100
```

`x`は、0.025という値でしたが、今は、100になりました。

代入値には、代入先の変数を含めることもできます：

```{r}
x <- x + 1 # RStudioの右上タブでxの説明が更新されることに注目
y <- x * 2
```

代入の右辺には有効なR式を使用できます。右辺は代入が行われる前に_完全に評価_されます。
右側については、代入される前に、 計算が完全に実施 されます。

変数名には、文字、数字、アンダースコア、ピリオドを含めることができますが、スペースは含められません。また、変数名は文字またはピリオドで始める必要があります（数字やアンダースコアでは始めることはできません）。ピリオドで始まる変数は隠し変数と見なされます。 They
must start with a letter or a period followed by a letter (they cannot start with a number nor an underscore).
Variables beginning with a period are hidden variables.
長い変数名については、異なる人が異なる規約を使用します。その例として：

- ピリオドを.単語の.間に入れる
- underscores_between_words
- 単語の始まりを大文字にする（camelCaseToSeparateWords）

どれを使用するかは自由ですが、**一貫性を保つ**ことが重要です。

代入には`=`演算子を使用することも可能です：

```{r}
x = 1/40
```

But this is much less common among R users.  The most important thing is to
**be consistent** with the operator you use. しかし、これはRユーザーの間ではあまり一般的ではありません。最も重要なのは、使用する演算子に**一貫性を持つ**ことです。`<-`を使用したほうが混乱が少ない場合もあり、コミュニティでは最も一般的に使われています。そのため、`<-`を使用することを推奨します。 So the recommendation is to use `<-`.

:::::::::::::::::::::::::::::::::::::::  challenge

## チャレンジ 1

次の中で有効なRの変数名はどれですか？

```{r, eval=FALSE}
min_height
max.height
_age
.mass
MaxLength
min-length
2widths
celsius2kelvin
```

:::::::::::::::  solution

## チャレンジ1の解答

次のものはR変数として使用できます：

```{r ch1pt1-sol, eval=FALSE}
min_height
max.height
MaxLength
celsius2kelvin
```

次のものは隠し変数を作成します：

```{r ch1pt2-sol, eval=FALSE}
.mass
```

次のものは変数を作成できません：

```{r ch1pt3-sol, eval=FALSE}
_age
min-length
2widths
```

:::::::::::::::::::::::::

::::::::::::::::::::::::::::::::::::::::::::::::::

## ベクトル化

One final thing to be aware of is that R is _vectorized_, meaning that
variables and functions can have vectors as values. Rの特徴の1つに、Rが**ベクトル化**されているという点があります。つまり、変数や関数にベクトルを値として持たせることができます。物理学や数学におけるベクトルとは異なり、Rにおけるベクトルは同じデータ型の値が順序付けられた集合を指します。例： 例えば：

```{r}
1:5
2^(1:5)
x <- 1:5
2^x
```

この機能は非常に強力で、今後のレッスンでさらに詳しく説明します。

## 環境の管理

Rセッションとやり取りするための便利なコマンドがいくつかあります。

`ls`を使用すると、グローバル環境（現在のRセッション）に保存されているすべての変数と関数を一覧表示できます：

```{r, eval=FALSE}
ls()
```

```{r, echo=FALSE}
# このRmdドキュメントをレンダリングする際に`ls()`を実行すると、
# 教材で説明されている内容と異なる項目（例えば "args", "dest_md" など）が
# 出力されることがあります。
# 学習者が自分のセッションで`ls()`を実行した際に観察される結果を再現するために、
# 一時環境を使用して解決しています。

temp.env <- new.env()
temp.env$x <- x
temp.env$y <- y
ls(temp.env)
rm(temp.env)
```

:::::::::::::::::::::::::::::::::::::::::  callout

## ヒント：隠しオブジェクト

シェルのように、`ls`はデフォルトでは、"."で始まる変数と関数を表示しません。 シェルと同様に、`ls`ではデフォルトで"."で始まる変数や関数は表示されません。すべてのオブジェクトを一覧表示するには、`ls(all.names=TRUE)`と入力してください。

::::::::::::::::::::::::::::::::::::::::::::::::::

ここでは、`ls`に引数を渡していませんが、関数を呼び出すために括弧は必要です。

`ls`だけを入力すると、オブジェクト一覧ではなくコードが表示されます：

```{r}
ls
```

これはどういうことでしょうか？

Rではすべてがオブジェクトであり、オブジェクト名だけを入力すると、その内容が表示されます。先ほど作成したオブジェクト`x`には`r x`が格納されています： The object `x` that we
created earlier contains `r x`:

```{r}
x
```

オブジェクト`ls`には、`ls`関数を動作させるRコードが格納されています！関数の仕組みや作成方法については後のレッスンで説明します。 We'll talk
more about how functions work and start writing our own later.

不要になったオブジェクトを削除するには、`rm`を使用します：

```{r, eval=FALSE}
rm(x)
```

多くのオブジェクトが環境にあり、それらをすべて削除したい場合は、`ls`の結果を`rm`関数に渡します：

```{r, eval=FALSE}
rm(list = ls())
```

In this case we've combined the two. この場合、2つの関数を組み合わせています。演算の順序と同様に、最も内側の括弧内の内容が最初に評価されます。

この場合、`ls`の結果が`rm`の`list`引数として使用されるよう指定しています。引数に値を名前で割り当てる場合、**必ず`=`演算子を使用**する必要があります！ 代入は値を表示しません。代わりに、それを後で使用するために**変数**というものに格納します。この場合、`x`には値`0.025`が格納されています：

代わりに`<-`を使用すると、予期しない副作用が発生するか、エラーメッセージが表示される可能性があります：

```{r, error=TRUE}
rm(list <- ls())
```

:::::::::::::::::::::::::::::::::::::::::  callout

## ヒント：警告とエラー

Pay attention when R does something unexpected! Rが予期しない動作をした場合は注意してください！エラーはRが計算を続行できない場合に発生します。一方、警告は通常、関数が実行されたものの、期待通りに動作しなかったことを意味します。 Warnings on the
other hand usually mean that the function has run, but it probably
hasn't worked as expected.

どちらの場合も、Rが表示するメッセージには問題を解決するための手がかりが含まれていることが多いです。

::::::::::::::::::::::::::::::::::::::::::::::::::

## Rパッケージ

Rにはパッケージを作成することで関数を追加することができます。また、他の人が作成したパッケージを利用することも可能です。この執筆時点で、CRAN（Comprehensive R Archive Network）には10,000を超えるパッケージが利用可能です。RとRStudioにはパッケージを管理するための機能があります： As of this writing, there
are over 10,000 packages available on CRAN (the comprehensive R archive
network). をインストールする別の方法は次のとおりです：

- インストールされているパッケージを確認するには、`installed.packages()`を入力します。
- パッケージをインストールするには、`install.packages("packagename")`と入力します。ここで`packagename`はパッケージ名で、引用符で囲みます。
- インストール済みのパッケージを更新するには、`update.packages()`を入力します。
- パッケージを削除するには、`remove.packages("packagename")`を使用します。
- パッケージを利用可能にするには、`library(packagename)`を入力します。

RStudioの右下ペインの「Packages」タブからもパッケージを表示、ロード、デタッチすることができます。このタブをクリックすると、インストール済みのパッケージがチェックボックス付きで表示されます。パッケージ名の横にあるチェックボックスがオンの場合、そのパッケージはロードされており、オフの場合はロードされていません。空のボックスをクリックするとそのパッケージがロードされ、チェックボックスをクリックするとパッケージがデタッチされます。 Clicking on this tab will display all of the installed packages with a checkbox next to them. If the box next to a package name is checked, the package is loaded and if it is empty, the package is not loaded. Click an empty box to load that package and click a checked box to detach that package.

また、「Packages」タブの上部にある「Install」ボタンと「Update」ボタンを使用して、パッケージをインストールおよび更新できます。

:::::::::::::::::::::::::::::::::::::::  challenge

## チャレンジ 2

次のプログラムの各文の後で、各変数の値はどうなるでしょうか？

```{r, eval=FALSE}
mass <- 47.5
age <- 122
mass <- mass * 2.3
age <- age - 20
```

:::::::::::::::  solution

## チャレンジ2の解答

```{r ch2pt1-sol}
mass <- 47.5
```

この時点で変数`mass`の値は`r mass`になります。

```{r ch2pt2-sol}
age <- 122
```

この時点で変数`age`の値は`r age`になります。

```{r ch2pt3-sol}
mass <- mass * 2.3
```

既存の値`r mass/2.3`に2.3を掛け、新しい値`r mass`を`mass`に格納します。

```{r ch2pt4-sol}
age <- age - 20
```

既存の値`r age + 20`から20を引き、新しい値`r age`を`age`に格納します。

:::::::::::::::::::::::::

::::::::::::::::::::::::::::::::::::::::::::::::::

:::::::::::::::::::::::::::::::::::::::  challenge

## チャレンジ 3

前のチャレンジのコードを実行し、massとageを比較するコマンドを書きなさい。massはageより大きいですか？ massはageよりも大きいでしょうか？

:::::::::::::::  solution

## チャレンジ3の解答

この質問に答える方法の1つとして、次のように`>`を使用できます：

```{r ch3-sol}
mass > age
```

このコードは、`r mass`が`r age`より大きいため、論理値`TRUE`を返すはずです。

:::::::::::::::::::::::::

::::::::::::::::::::::::::::::::::::::::::::::::::

:::::::::::::::::::::::::::::::::::::::  challenge

## チャレンジ 4

作業環境を整理し、massとageの変数を削除しなさい。

:::::::::::::::  solution

## チャレンジ4の解答

このタスクを達成するには、`rm`コマンドを使用します：

```{r ch4-sol}
rm(age, mass)
```

:::::::::::::::::::::::::

::::::::::::::::::::::::::::::::::::::::::::::::::

:::::::::::::::::::::::::::::::::::::::  challenge

## チャレンジ 5

以下のパッケージをインストールしなさい：`ggplot2`, `plyr`, `gapminder`

:::::::::::::::  solution

## チャレンジ5の解答

必要なパッケージをインストールするには、`install.packages()`コマンドを使用します。

```{r ch5-sol, eval=FALSE}
install.packages("ggplot2")
install.packages("plyr")
install.packages("gapminder")
```

1つの`install.packages()`コマンドで複数のパッケージ

```{r ch5-sol2, eval=FALSE}
install.packages(c("ggplot2", "plyr", "gapminder"))
```

:::::::::::::::::::::::::

::::::::::::::::::::::::::::::::::::::::::::::::::

::::::::::::::::::::::::::::::::::::: instructor

`ggplot2`をインストールする際、一部のユーザーは依存関係フラグを使用する必要がある場合があります。これは既知のバグではなく、ワークショップの実施中に確認されたエラーを解決するための推奨事項です： This suggestion is not tied to any known bug discussion, and is advised based off instructor feedback/experience in resolving stochastic occurences of errors identified through delivery of this workshop:

```{r ch5-sol3, eval=FALSE}
install.packages("ggplot2", dependencies = TRUE)
```

:::::::::::::::::::::::::::::::::::::::::::::::::

:::::::::::::::::::::::::::::::::::::::: keypoints

- RStudioを使用してRプログラムを作成および実行します。
- Rには通常の算術演算子と数学関数があります。
- `<-`を使用して変数に値を代入します。
- `ls()`を使用してプログラム内の変数を一覧表示します。
- `rm()`を使用してプログラム内のオブジェクトを削除します。
- `install.packages()`を使用してパッケージ（ライブラリ）をインストールします。

::::::::::::::::::::::::::::::::::::::::::::::::::
